---
layout: post
title: Docker安装
categories: [Docker]
tags: [Docker]
---
#### 1. 解压安装包
下载[Docker源码](https://download.docker.com/linux/static/stable/x86_64/)并上传到目标机器。  
`tar -xvf docker-29.2.1.tgz`  
<!-- more -->

#### 2. 复制二进制文件

`cp docker/* /usr/bin/`  

#### 3. 配置系统服务  
`vi /etc/systemd/system/docker.service`  

```
[Unit]
Description=Docker Application Container Engine
Documentation=https://docs.docker.com
After=network-online.target firewalld.service
Wants=network-online.target

[Service]
Type=notify
ExecStart=/usr/bin/dockerd
ExecReload=/bin/kill -s HUP $MAINPID
LimitNOFILE=infinity
LimitNPROC=infinity
LimitCORE=infinity
TimeoutStartSec=0
Delegate=yes
KillMode=process
Restart=on-failure
StartLimitBurst=3
StartLimitInterval=60s

[Install]
WantedBy=multi-user.target
```
#### 4. 设置开机自启  
`systemctl enable docker`  
`systemctl start docker`  

#### 5. 安装docker-compose
下载[docker-compose源码](https://github.com/docker/compose/releases)并上传到目标机器。  
`mv docker-compose-linux-x86_64 /usr/bin/docker-compose`  
`chmod +x /usr/bin/docker-compose`  
